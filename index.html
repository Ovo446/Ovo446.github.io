<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>üçä ClassicSpark V3.0</title>
  <style>
    body {
      font-family: "Georgia", serif;
      margin: 0;
      background: #f7fff8;
      color: #333;
      overflow-x: hidden;
    }
    header {
      background: #b2f2bb;
      padding: 1em;
      text-align: center;
      border-bottom: 3px solid #ffd8a8;
    }
    nav {
      margin-top: 10px;
    }
    nav button {
      margin: 0 10px;
      padding: 0.5em 1em;
      background: #ffec99;
      border: 2px solid #ffa94d;
      cursor: pointer;
    }
    nav button:hover {
      transform: scale(1.05);
    }
    main {
      padding: 2em;
    }
    .article-meta {
      font-style: italic;
      color: #777;
      margin-bottom: 10px;
    }
    #readButton {
      background: #a5d8ff;
      border: 2px solid #339af0;
      color: #000;
      padding: 0.5em 1em;
      cursor: pointer;
      margin-top: 10px;
    }
    .word {
      cursor: pointer;
      color: #1864ab;
    }
    .tooltip {
      position: absolute;
      background: #fff3bf;
      border: 1px solid #ffa94d;
      padding: 10px;
      border-radius: 5px;
      display: none;
      z-index: 100;
      max-width: 250px;
    }
    #mascot {
      position: fixed;
      bottom: 10px;
      left: 50%;
      transform: translateX(-50%);
      width: 80px;
      height: 80px;
      background: url('https://em-content.zobj.net/source/animated-noto-color-emoji/356/nerd-face_1f913.gif') no-repeat center center;
      background-size: contain;
      pointer-events: none;
    }
  </style>
</head>
<body>
  <header>
    <h1>üçä ClassicSpark</h1>
    <nav>
      <button onclick="switchPage('article')">Today's Article</button>
      <button onclick="switchPage('notes')">Notes</button>
    </nav>
  </header>

  <main>
    <section id="article" class="page active">
      <h2>Today‚Äôs Article</h2>
      <div class="article-meta" id="meta"></div>
      <p id="articleText"></p >
      <button id="readButton" onclick="readAloud()">Read Aloud</button>
    </section>

    <section id="notes" class="page" style="display: none;">
      <h2>Notes</h2>
      <textarea id="noteArea" placeholder="Write down words or phrases you want to remember..."></textarea>
    </section>
  </main>

  <div id="mascot"></div>
  <div id="tooltip" class="tooltip"></div>

  <script>
    const articles = [
      {
        text: "All animals are equal, but some animals are more equal than others.",
        author: "George Orwell",
        source: "Animal Farm"
      },
      {
        text: "It was the best of times, it was the worst of times, it was the age of wisdom, it was the age of foolishness...",
        author: "Charles Dickens",
        source: "A Tale of Two Cities"
      },
      {
        text: "So we beat on, boats against the current, borne back ceaselessly into the past.",
        author: "F. Scott Fitzgerald",
        source: "The Great Gatsby"
      },
      {
        text: "It is a truth universally acknowledged, that a single man in possession of a good fortune, must be in want of a wife.",
        author: "Jane Austen",
        source: "Pride and Prejudice"
      }
    ];

    const dictionary = {
      animals: {
        definition: "Living organisms that feed on organic matter.",
        example: "Farm animals include cows, pigs, and chickens."
      },
      foolishness: {
        definition: "Lack of good sense or judgment.",
        example: "His foolishness got him into trouble."
      },
      acknowledged: {
        definition: "Recognized or accepted as being true.",
        example: "She acknowledged her mistake openly."
      },
      boats: {
        definition: "Small vessels used for traveling on water.",
        example: "The boats floated gently on the lake."
      },
      fortune: {
        definition: "A large amount of wealth or luck.",
        example: "He inherited a great fortune from his uncle."
      }
    };

    function switchPage(id) {
      document.querySelectorAll("section").forEach(sec => sec.style.display = "none");
      document.getElementById(id).style.display = "block";
    }

    function loadArticle() {
      const chosen = articles[Math.floor(Math.random() * articles.length)];
      const words = chosen.text.split(" ").map(word => {
        const clean = word.replace(/[^\w]/g, '').toLowerCase();
        return `<span class="word" onmouseover="showTooltip(event, '${clean}')" onmouseout="hideTooltip()">${word}</span>`;
      });
      document.getElementById("articleText").innerHTML = words.join(" ");
      document.getElementById("meta").textContent = `${chosen.author} ‚Äî ${chosen.source}`;
    }

    function readAloud() {
      const text = document.getElementById("articleText").innerText;
      const utterance = new SpeechSynthesisUtterance(text);
      speechSynthesis.cancel();
      speechSynthesis.speak(utterance);
    }

    function showTooltip(e, word) {
      if (!dictionary[word]) return;
      const tip = document.getElementById("tooltip");
      tip.innerHTML = `<strong>${word}</strong><br><em>${dictionary[word].definition}</em><br><small>${dictionary[word].example}</small>`;
      tip.style.left = e.pageX + 10 + "px";
      tip.style.top = e.pageY + 10 + "px";
      tip.style.display = "block";
    }

    function hideTooltip() {
      document.getElementById("tooltip").style.display = "none";
    }

    window.onload = () => {
      loadArticle();
      document.addEventListener("mousemove", e => {
        const mascot = document.getElementById("mascot");
        mascot.style.left = (e.pageX - 40) + "px";
      });
    };
  </script>
</body>
</html>
